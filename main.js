(()=>{"use strict";var t=document.querySelector(".popup"),e=document.querySelector(".popup__close-button"),r=document.querySelector(".form"),o=r.querySelector(".form__input_type_email"),n=["inputSelector","submitButtonSelector","activeSubmitButtonClass"];function c(t,e){if(null==t)return{};var r,o,n=function(t,e){if(null==t)return{};var r,o,n={},c=Object.keys(t);for(o=0;o<c.length;o++)r=c[o],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)r=c[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var i,u,l,s=function(t,e,r){!function(t){return t.some((function(t){return!t.validity.valid}))}(t)?(e.disabled=!1,e.classList.add(r)):(e.disabled=!0,e.classList.remove(r))},a=function(t,e,r){var o=r.inputErrorClass,n=r.errorClass,c=t.querySelector(".".concat(e.id,"-error"));e.classList.remove(o),c.classList.remove(n),c.textContent=""};const f=(u=(i={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__button",activeSubmitButtonClass:"form__button_active",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"}).formSelector,l=c(i,["formSelector","formFieldSelector"]),Array.from(document.querySelectorAll(u)).forEach((function(t){(function(t,e){var r=e.inputSelector,o=e.submitButtonSelector,i=e.activeSubmitButtonClass,u=c(e,n),l=t.querySelector(o),f=Array.from(t.querySelectorAll(r));s(f,l,i),f.forEach((function(e){e.addEventListener("input",(function(){!function(t,e,r){e.validity.valid?a(t,e,r):function(t,e,r){var o=r.inputErrorClass,n=r.errorClass,c=t.querySelector(".".concat(e.id,"-error"));e.classList.add(o),c.textContent=e.validationMessage,c.classList.add(n)}(t,e,r)}(t,e,u),s(f,l,i)}))}))})(t,l),t.addEventListener("submit",(function(t){t.preventDefault()}))})),function(t){var e=l.inputSelector,r=l.submitButtonSelector,o=l.activeSubmitButtonClass,n=Array.from(t.querySelectorAll(e)),c=t.querySelector(r);n.forEach((function(e){return a(t,e,l)})),s(n,c,o)});function p(t){t.classList.remove("popup_opened")}r.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData;n.append("Email",o.value),fetch("https://script.google.com/macros/s/AKfycbyqWOd_B2jVU1g9MLiE-IbJTOMQTNyE9LtkoVcgeRujDx2oAftx_ktiTxJyPz2QCqIJlQ/exec",{method:"POST",body:n}),r.reset(),f(r),function(t){t.classList.add("popup_opened")}(t)})),e.addEventListener("click",(function(){return p(t)})),t.addEventListener("click",(function(e){var r=e.target;r&&r.classList.contains("popup_opened")&&p(t)}))})();